{% extends 'base.html' %}

{% block title %}Scoreboard{% endblock %}

{% block content %}
<h1>Scoreboard</h1>

<!-- Main Tabs -->
{% include 'scoreboard/tabs.html' %}

<!-- Scoreboard Tab Content -->
<div id="scoreboard" class="tabcontent">
    <div class="tab">
        <button class="subTablinks" id="classementTabButton" onclick="openSubTab(event, 'classement')">Classement</button>
        <button class="subTablinks" id="SprintTabButton"onclick="openSubTab(event, 'sprint')">Sprint</button>
        <button class="subTablinks" id="MountainTabButton"onclick="openSubTab(event, 'mountain')">King of the Mountain</button>
    </div>

    <!-- Sub-tab content (IDs and classes are inside each included file) -->
    {% include 'scoreboard/classement.html' %}
    {% include 'scoreboard/sprint.html' %}
    {% include 'scoreboard/mountain.html' %}
</div>

<!-- Stages Tab Content -->
<div id="stages" class="tabcontent" style="display:none;">
    {% include 'scoreboard/stage_selector.html' %}
    {% include 'scoreboard/stage_tab.html' %}
</div>
{% endblock %}

{% block scripts %}
<script>
    // Function to log when the Classement tab is clicked
    function onClassementTabOpened(event) {
        console.log("Tab clicked:", event.target); // Check which element was clicked
        if (event.target && event.target.id === "classementTabButton") {
            console.log("Event triggered: Classement tab opened.");
        }
    }

    // Add the event listener directly to the button for testing
    document.getElementById("classementTabButton").addEventListener("click", onClassementTabOpened);
</script>
{% endblock %}
