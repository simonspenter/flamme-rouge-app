{% extends 'base.html' %}

{% block title %}Scoreboard{% endblock %}

{% block content %}
<h1>Scoreboard</h1>

<!-- Main Tabs -->
{% include 'scoreboard/tabs.html' %}

<!-- Scoreboard Tab Content -->
<div id="scoreboard" class="tabcontent">
    <div class="tab">
        <button class="subTablinks" onclick="openSubTab(event, 'classement')">Classement</button>
        <button class="subTablinks" onclick="openSubTab(event, 'sprint')">Sprint</button>
        <button class="subTablinks" onclick="openSubTab(event, 'mountain')">King of the Mountain</button>
    </div>

    <!-- Sub-tab content (IDs and classes are inside each included file) -->
    {% include 'scoreboard/classement.html' %}
    {% include 'scoreboard/sprint.html' %}
    {% include 'scoreboard/mountain.html' %}
</div>

<!-- Stages Tab Content -->
<div id="stages" class="tabcontent" style="display:none;">
    {% include 'scoreboard/stage_selector.html' %}
    {% include 'scoreboard/stage_tab.html' %}
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Function to log the event trigger when the scoreboard tab is opened
        function onScoreboardTabOpened() {
            // Log the event trigger
            console.log("Event triggered: Scoreboard tab opened.");
        }

        // Find the main Scoreboard tab button by its id
        const scoreboardTabButton = document.getElementById("scoreboardTabButton");

        // Ensure the button exists before adding the event listener
        if (scoreboardTabButton) {
            // Add event listener to the button
            scoreboardTabButton.addEventListener("click", function (event) {
                onScoreboardTabOpened();  // Log message when clicked
                openTab(event, 'scoreboard');  // Call the existing function for tab switching
            });
        }
    });
</script>
{% endblock %}
